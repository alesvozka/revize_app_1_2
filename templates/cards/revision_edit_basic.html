<div id="card-basic" class="p-4 bg-blue-50">
    <form 
        hx-post="/revision/{{ revision.revision_id }}/update-card/basic"
        hx-target="#card-basic"
        hx-swap="outerHTML"
        class="space-y-3">
        
        {% if field_configs %}
            {# ðŸ”§ DYNAMIC RENDERING with dropdown support #}
            {% from 'components/form_field_dynamic.html' import render_dynamic_field %}
            
            {# Filter fields for 'basic' category #}
            {% for field in field_configs %}
                {% if field.category == 'basic' %}
                    {{ render_dynamic_field(field, revision, dropdown_sources) }}
                {% endif %}
            {% endfor %}
        {% else %}
            {# FALLBACK: Hardcoded fields if no config #}
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                    NÃ¡zev *
                </label>
                <input 
                    type="text" 
                    name="revision_name" 
                    value="{{ revision.revision_name or '' }}"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                    Klient
                </label>
                <input 
                    type="text" 
                    name="revision_client" 
                    value="{{ revision.revision_client or '' }}"
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                    Adresa
                </label>
                <input 
                    type="text" 
                    name="revision_address" 
                    value="{{ revision.revision_address or '' }}"
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
            </div>
        {% endif %}
        
        <div class="flex items-center space-x-2 pt-2">
            <button 
                type="submit"
                class="flex-1 bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition font-medium">
                ðŸ’¾ UloÅ¾it
            </button>
            <button 
                type="button"
                hx-get="/revision/{{ revision.revision_id }}/card/basic"
                hx-target="#card-basic"
                hx-swap="outerHTML"
                class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">
                ZruÅ¡it
            </button>
        </div>
    </form>
</div>
