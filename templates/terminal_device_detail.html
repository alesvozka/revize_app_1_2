{% extends "base.html" %}

{% block title %}Detail koncov√©ho za≈ô√≠zen√≠{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <!-- Header -->
    <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <div class="flex items-center justify-between mb-4">
            <div class="flex-1">
                <div class="flex items-center gap-3 mb-2">
                    <h1 class="text-2xl font-bold text-gray-900">
                        {{ terminal.terminal_device_type or "Koncov√© za≈ô√≠zen√≠" }}
                    </h1>
                    {% if terminal.terminal_device_marking %}
                    <span class="px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full">
                        {{ terminal.terminal_device_marking }}
                    </span>
                    {% endif %}
                </div>
                <p class="text-sm text-gray-600">
                    Obvod: 
                    <a href="{{ url_for('circuit_detail', circuit_id=terminal.circuit.circuit_id) }}" 
                       class="text-blue-600 hover:text-blue-800 font-medium">
                        {{ terminal.circuit.circuit_number or "‚Äî" }}
                    </a>
                    {% if terminal.circuit.circuit_room %}
                        ({{ terminal.circuit.circuit_room }})
                    {% endif %}
                </p>
                <p class="text-sm text-gray-600">
                    P≈ô√≠stroj: 
                    <a href="{{ url_for('device_detail', device_id=terminal.circuit.device.device_id) }}" 
                       class="text-blue-600 hover:text-blue-800 font-medium">
                        {{ terminal.circuit.device.switchboard_device_position or "‚Äî" }}
                    </a>
                </p>
                <p class="text-sm text-gray-600">
                    Rozv√°dƒõƒç: 
                    <a href="{{ url_for('switchboard_detail', id=terminal.circuit.device.switchboard.switchboard_id) }}" 
                       class="text-blue-600 hover:text-blue-800 font-medium">
                        {{ terminal.circuit.device.switchboard.switchboard_name or "‚Äî" }}
                    </a>
                </p>
            </div>
            <div class="flex gap-2">
                <a href="/terminal/{{ terminal.terminal_device_id }}/duplicate" 
                   class="px-4 py-2 text-sm font-medium text-white bg-yellow-500 rounded-lg hover:bg-yellow-600">
                    üìã Duplikovat
                </a>
                <a href="/terminal/{{ terminal.terminal_device_id }}/edit" 
                   class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
                    ‚úèÔ∏è Editovat
                </a>
                <form method="POST" action="/terminal/{{ terminal.terminal_device_id }}/delete" 
                      onsubmit="return confirm('Opravdu chcete smazat toto koncov√© za≈ô√≠zen√≠?')" 
                      class="inline">
                    <button type="submit" 
                            class="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700">
                        üóëÔ∏è Smazat
                    </button>
                </form>
            </div>
        </div>
        <a href="/circuit/{{ terminal.circuit.circuit_id }}" 
           class="inline-block text-sm text-blue-600 hover:text-blue-800">
            ‚Üê Zpƒõt na obvod
        </a>
    </div>

    <!-- Basic Info -->
    <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <h3 class="text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200">
            Z√°kladn√≠ informace
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div>
                <dt class="text-sm font-medium text-gray-500">Typ za≈ô√≠zen√≠</dt>
                <dd class="mt-1 text-base text-gray-900">{{ terminal.terminal_device_type or "‚Äî" }}</dd>
            </div>
            <div>
                <dt class="text-sm font-medium text-gray-500">V√Ωrobce</dt>
                <dd class="mt-1 text-base text-gray-900">{{ terminal.terminal_device_manufacturer or "‚Äî" }}</dd>
            </div>
            <div>
                <dt class="text-sm font-medium text-gray-500">Model</dt>
                <dd class="mt-1 text-base text-gray-900">{{ terminal.terminal_device_model or "‚Äî" }}</dd>
            </div>
            <div>
                <dt class="text-sm font-medium text-gray-500">Oznaƒçen√≠ / ≈†t√≠tek</dt>
                <dd class="mt-1 text-base text-gray-900 font-mono bg-gray-100 px-2 py-1 rounded inline-block">
                    {{ terminal.terminal_device_marking or "‚Äî" }}
                </dd>
            </div>
            <div>
                <dt class="text-sm font-medium text-gray-500">S√©riov√© ƒç√≠slo</dt>
                <dd class="mt-1 text-base text-gray-900 font-mono">{{ terminal.terminal_device_serial_number or "‚Äî" }}</dd>
            </div>
            <div>
                <dt class="text-sm font-medium text-gray-500">V√Ωkon</dt>
                <dd class="mt-1 text-base text-gray-900">
                    {% if terminal.terminal_device_power %}
                        {{ terminal.terminal_device_power }} <span class="text-sm text-gray-500">W</span>
                    {% else %}
                        ‚Äî
                    {% endif %}
                </dd>
            </div>
        </div>
    </div>

    <!-- Technical Parameters -->
    <div class="bg-white rounded-lg shadow-sm p-6">
        <h3 class="text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200">
            Technick√© parametry
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <dt class="text-sm font-medium text-gray-500">Kryt√≠ (IP)</dt>
                <dd class="mt-1 text-base text-gray-900 font-mono">{{ terminal.terminal_device_ip_rating or "‚Äî" }}</dd>
            </div>
            <div>
                <dt class="text-sm font-medium text-gray-500">T≈ô√≠da ochrany</dt>
                <dd class="mt-1 text-base text-gray-900 font-mono">{{ terminal.terminal_device_protection_class or "‚Äî" }}</dd>
            </div>
            <div>
                <dt class="text-sm font-medium text-gray-500">Typ nap√°jen√≠</dt>
                <dd class="mt-1 text-base text-gray-900">{{ terminal.terminal_device_supply_type or "‚Äî" }}</dd>
            </div>
            <div>
                <dt class="text-sm font-medium text-gray-500">Zp≈Øsob instalace</dt>
                <dd class="mt-1 text-base text-gray-900">{{ terminal.terminal_device_installation_method or "‚Äî" }}</dd>
            </div>
        </div>
    </div>
</div>
{% endblock %}
